

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Scalr Server Maintenance &mdash; Scalr 0.01 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Scalarizr Installation" href="scalarizr_installation.html" />
    <link rel="prev" title="Scalr Server HA Replication" href="scalr_server_ha_setup.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/scalr_logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Scalr Server Admin Guide</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Installation &amp; Upgrades</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="scalr_server_architecture.html">Scalr Server Architecture and Requirements</a><ul>
<li class="toctree-l3"><a class="reference internal" href="scalr_server_architecture.html#architecture">Architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="scalr_server_architecture.html#supported-operating-systems">Supported Operating Systems:</a></li>
<li class="toctree-l3"><a class="reference internal" href="scalr_server_architecture.html#network-requirements">Network Requirements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="scalr_server_installation.html">Scalr Server Install</a><ul>
<li class="toctree-l3"><a class="reference internal" href="scalr_server_installation.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="scalr_server_installation.html#for-deb-based-linux-operating-systems">For DEB-based Linux operating systems</a></li>
<li class="toctree-l3"><a class="reference internal" href="scalr_server_installation.html#for-rpm-based-linux-operating-systems">For RPM-based Linux operating systems</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="scalr_server_ha_setup.html">Scalr Server HA Replication</a><ul>
<li class="toctree-l3"><a class="reference internal" href="scalr_server_ha_setup.html#setting-up-replication-for-the-scalr-database">Setting up Replication for the Scalr Database</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Scalr Server Maintenance</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#upgrades">Upgrades</a></li>
<li class="toctree-l3"><a class="reference internal" href="#automated-upgrades">Automated Upgrades</a></li>
<li class="toctree-l3"><a class="reference internal" href="#monitoring-best-practices">Monitoring Best Practices</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="scalarizr_installation.html">Scalarizr Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="scalarizr_installation.html#about">About</a></li>
<li class="toctree-l3"><a class="reference internal" href="scalarizr_installation.html#os-requirements">OS Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="scalarizr_installation.html#network-requirements">Network Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="scalarizr_installation.html#installing-scalarizr">Installing Scalarizr</a><ul>
<li class="toctree-l4"><a class="reference internal" href="scalarizr_installation.html#how-to-install-scalarizr-on-linux-images">How to Install Scalarizr on Linux Images</a></li>
<li class="toctree-l4"><a class="reference internal" href="scalarizr_installation.html#how-to-install-scalarizr-on-windows-images">How to Install Scalarizr on Windows Images</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="scalarizr_installation.html#how-to-create-your-own-scalarizr-repo">How to Create Your Own Scalarizr Repo</a><ul>
<li class="toctree-l4"><a class="reference internal" href="scalarizr_installation.html#managing-scalr-integrated-repo-service">Managing Scalr Integrated Repo Service</a></li>
<li class="toctree-l4"><a class="reference internal" href="scalarizr_installation.html#download-and-set-up-a-custom-repo">Download and Set Up a Custom Repo</a></li>
<li class="toctree-l4"><a class="reference internal" href="scalarizr_installation.html#removing-custom-repo-branches-and-packages">Removing Custom Repo Branches and Packages</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="advanced_configurations.html">Advanced Configurations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="advanced_configurations.html#proxy">Proxy</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced_configurations.html#ldap">LDAP</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced_configurations.html#saml">SAML</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced_configurations.html#logging">Logging</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced_configurations.html#api">API</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced_configurations.html#agent-update">Agent Update</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced_configurations.html#vmware">VMware</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced_configurations.html#uncategorized">Uncategorized</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../extensions/index.html">Extensions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../extensions/ldap.html">Enable LDAP Authentication</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../extensions/ldap.html#configuration">Configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../extensions/saml.html">Enable SAML Authentication</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../extensions/saml.html#integration-with-scalr">Integration with Scalr</a></li>
<li class="toctree-l3"><a class="reference internal" href="../extensions/saml.html#configuration">Configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../extensions/email.html">Enable Email Integration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../extensions/email.html#configuring-email">Configuring Email</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../extensions/advanced_logging.html">Enable Advanced Logging</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../extensions/advanced_logging.html#requirements">Requirements</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Scalr Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../introduction/index.html">Overview of Scalr</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/index.html#deployment-architecture">Deployment Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/index.html#value-of-scalr">Value of Scalr</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../introduction/index.html#security-and-compliance">Security and Compliance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/index.html#cost-control-visibility">Cost control &amp; Visibility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/index.html#platform-flexibility">Platform Flexibility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/index.html#team-productivity">Team Productivity</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/terminology.html">Concepts and Terminology</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../introduction/terminology.html#scalr-architecture">Scalr Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/terminology.html#scalr-scopes">Scalr Scopes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/terminology.html#cloud-credentials">Cloud Credentials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/terminology.html#accounts">Accounts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/terminology.html#environments">Environments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/terminology.html#roles-and-images">Roles and Images</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/terminology.html#farms-and-farm-roles">Farms and Farm Roles</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../introduction/terminology.html#desired-state-engine">Desired State Engine</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/terminology.html#cost-analytics-management">Cost Analytics/Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/terminology.html#policy-engines">Policy Engines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/terminology.html#users-teams-and-access-control">Users, Teams and Access Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/terminology.html#scripts">Scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/terminology.html#webhooks-and-external-integrations">Webhooks and External integrations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/terminology.html#storage">Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/terminology.html#kubernetes">Kubernetes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/terminology.html#service-catalog-and-applications">Service Catalog and Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/terminology.html#scalarizer-agent">Scalarizer Agent</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/terminology.html#external-integrations">External Integrations</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../gs_admins/index.html">Getting Started for Admins</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../gs_admins/index.html#role-of-account-admins">Role of Account Admins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gs_admins/index.html#navigating-the-user-interface">Navigating the User Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gs_admins/index.html#scalr-scope-configuration">Scalr Scope Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../gs_admins/index.html#cloud-configuration-and-credentials">Cloud Configuration and Credentials</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../clouds/connecting_aws.html">Connecting Scalr to AWS</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clouds/connecting_gcp.html">Connecting Scalr to Google Cloud Platform (GCP)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clouds/connecting_azure.html">Connecting Scalr to Microsoft Azure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clouds/connecting_openstack.html">Connecting Scalr to OpenStack</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clouds/connecting_vmware.html">Connecting Scalr to VMWare vSphere</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../gs_admins/index.html#roles-and-images">Roles and Images</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../gs_admins/index.html#scalr-account-architecture">Scalr Account Architecture</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../gs_admins/index.html#organisational-structure">Organisational Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gs_admins/index.html#teams-users-and-acls">Teams, Users and ACLs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../gs_admins/index.html#account-scope-configuration">Account Scope Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../gs_admins/index.html#environments-and-cloud-credentials">Environments and Cloud Credentials</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../clouds/connecting_aws.html">Connecting Scalr to AWS</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clouds/connecting_gcp.html">Connecting Scalr to Google Cloud Platform (GCP)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clouds/connecting_azure.html">Connecting Scalr to Microsoft Azure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clouds/connecting_openstack.html">Connecting Scalr to OpenStack</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clouds/connecting_vmware.html">Connecting Scalr to VMWare vSphere</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../gs_admins/index.html#configuring-users-teams-and-acls">Configuring Users, Teams and ACLs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gs_admins/index.html#id1">Roles and Images</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../gs_users/index.html">Getting Started for End Users</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../gs_users/index.html#types-roles-of-end-users">Types/Roles of End users</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gs_users/index.html#navigating-the-user-interface">Navigating the User Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gs_users/index.html#farms-and-service-catalog">Farms and Service Catalog</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gs_users/index.html#working-with-applications">Working with Applications</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Cloud Images and Templates</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../images_roles/index.html">Images and Roles in Scalr</a></li>
<li class="toctree-l1"><a class="reference internal" href="../images_roles/registering_images.html">Registering Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="../images_roles/creating_images_nonscalr.html">Creating Images and Roles from Non-Scalr Servers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../images_roles/creating_roles.html">Building Images from scratch (With Chef)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../images_roles/multi_cloud.html">Multi-cloud Roles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../images_roles/orchestration.html">Role Orchestration</a></li>
</ul>
<p class="caption"><span class="caption-text">Infrastructure Management</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../farms/index.html">Farm Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../farms/index.html#farm-roles">Farm Roles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../farms/index.html#scripts-events-orchestration">Scripts, Events &amp; Orchestration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../farms/index.html#events-reference">Events Reference</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../farms/index.html#custom-events">Custom Events</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../farms/index.html#creating-a-custom-event">Creating a Custom Event</a></li>
<li class="toctree-l3"><a class="reference internal" href="../farms/index.html#firing-a-custom-event">Firing a Custom Event</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../farms/index.html#network-and-security-group-configuration">Network and Security Group configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../farms/launch.html">Farm Launching and Managing Servers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../farms/ssh.html">SSH Keys in Scalr</a></li>
<li class="toctree-l1"><a class="reference internal" href="../farms/execution.html">Script Execution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../farms/storage.html">Configuring Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../farms/auto_dicscovery.html">Service Auto Discovery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../farms/link_cloud_services.html">Using Cloud Services in Farms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../farms/service_catalog.html">Service Catalog Offerings</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../farms/service_catalog.html#creating-service-catalog-offerings">Creating Service Catalog Offerings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../farms/service_catalog.html#customizing-farm-templates">Customizing Farm Templates</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Organizational Management</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../org/index.html">Implementing your Organization in Scalr</a></li>
<li class="toctree-l1"><a class="reference internal" href="../org/accounts.html">Account Configuration Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../org/cost_centers_projects.html">Cost Centers and Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../org/team_users.html">Teams and Users</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../org/team_users.html#configuring-users">Configuring Users</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../org/team_users.html#scalr-authenticated-users">Scalr Authenticated Users</a></li>
<li class="toctree-l3"><a class="reference internal" href="../org/team_users.html#externally-authenticated-users">Externally Authenticated Users</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../org/team_users.html#configuring-teams">Configuring Teams</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../org/acls.html">Access Control Lists</a></li>
</ul>
<p class="caption"><span class="caption-text">Governance, Security and Compliance</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../sec_comp/index.html">Security and Compliance Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sec_comp/policies.html">Policy Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sec_comp/policies.html#policy-definitions">Policy Definitions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sec_comp/policies.html#policy-reference">Policy Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sec_comp/quotas.html">Resource Quotas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sec_comp/quotas.html#creating-quotas">Creating Quotas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sec_comp/quotas.html#applying-quotas">Applying Quotas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sec_comp/orchestration.html">Scalr/Account Level Orchestration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sec_comp/integrations.html">External Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sec_comp/integrations.html#webhooks-and-endpoints">Webhooks and Endpoints</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../sec_comp/integrations.html#configruing-endpoints">Configruing Endpoints</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sec_comp/integrations.html#configuring-webhooks">Configuring Webhooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sec_comp/integrations.html#webhook-notifications">Webhook Notifications</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../sec_comp/acls.html">Access Control Lists</a></li>
</ul>
<p class="caption"><span class="caption-text">Cost Control &amp; Visibility</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cost/index.html">Cost Control Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cost/analytics.html">Cost Analytics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cost/analytics.html#detailed-billing-set-up">Detailed Billing Set Up</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cost/analytics.html#cost-analytics-scopes">Cost Analytics Scopes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../cost/analytics.html#scalr-scope-cost-analytics">Scalr Scope Cost Analytics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cost/analytics.html#account-scope-cost-analytics">Account Scope Cost Analytics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cost/analytics.html#environment-scope-cost-analytics">Environment Scope Cost Analytics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../cost/analytics.html#cost-categorisation">Cost Categorisation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../cost/analytics.html#projects">Projects</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cost/analytics.html#cost-centers">Cost Centers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../cost/analytics.html#budgets">Budgets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cost/analytics.html#price-lists">Price Lists</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cost/analytics.html#markups">Markups</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cost/analytics.html#reports">Reports</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cost/management.html">Cost Management</a></li>
</ul>
<p class="caption"><span class="caption-text">Parameterisation in Scalr</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../gvs/index.html">Global Variables</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../gvs/index.html#definition-and-scope">Definition and Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gvs/index.html#using-global-variables-in-scripts">Using Global Variables in Scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gvs/index.html#global-variable-interpolation-in-fields">Global Variable Interpolation in Fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gvs/index.html#using-global-variables-in-policies">Using Global Variables in Policies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gvs/index.html#examining-global-variables-in-servers">Examining Global Variables in Servers</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Demand Management</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../scaling/index.html">Scaling Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scaling/manual.html">Manual Scaling</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../scaling/manual.html#using-manual-scaling">Using Manual Scaling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scaling/manual.html#manually-launching-servers">Manually Launching Servers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scaling/manual.html#manually-terminating-servers">Manually Terminating Servers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../scaling/auto.html">Auto Scaling</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../scaling/auto.html#simple-autoscaling">Simple Autoscaling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scaling/auto.html#dynamic-autoscaling">Dynamic Autoscaling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scaling/auto.html#autoscaling-configuration">Autoscaling Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scaling/auto.html#autoscaling-algorithms">Autoscaling Algorithms</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../scaling/custom_scaling.html">Custom Metrics and Scaling</a></li>
</ul>
<p class="caption"><span class="caption-text">Importing Cloud Infrastructure</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../discovery/index.html">Discovery Manager</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../discovery/index.html#importing-servers">Importing Servers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discovery/index.html#installing-scalarizer">Installing Scalarizer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discovery/index.html#importing-containers">Importing Containers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discovery/index.html#migrate-servers-from-farm-role-to-farm-role">Migrate Servers from Farm Role to Farm Role</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../discovery/creating_images_nonscalr.html">Creating Images and Roles from Non-Scalr Servers</a></li>
</ul>
<p class="caption"><span class="caption-text">Alternative Interfaces</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">Scalr API and CLI</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../api/index.html#api-explorer">API Explorer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/index.html#installing-cli">Installing CLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/index.html#using-scalr-ctl">Using scalr-ctl</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api/csg.html">Cloud Service Gateway</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../api/csg.html#configuring-cloud-service-gateway">Configuring Cloud Service Gateway</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/csg.html#using-the-cloud-service-gateway">Using the Cloud Service Gateway</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/csg.html#managing-approvals-for-cloud-service-gateway">Managing approvals for Cloud Service Gateway</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/csg.html#managing-access-and-permissions-for-cloud-service-gateway">Managing Access and Permissions for Cloud Service Gateway</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Scalarizr agent</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../scalarizr/index.html">Managing Scalarizr</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../scalarizr/index.html#access-requirements-for-scalarizr-agent">Access requirements for Scalarizr agent</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scalarizr/index.html#monitoring-scalarizr">Monitoring Scalarizr</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scalarizr/index.html#updating-the-scalarizr-agent">Updating the Scalarizr Agent</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../scalarizr/index.html#scalarizr-administrative-interface">Scalarizr Administrative Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scalarizr/index.html#scalarizr-logs">Scalarizr Logs</a></li>
</ul>
<p class="caption"><span class="caption-text">Best Practices</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../best_practices/index.html">Best Practices</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../best_practices/image_management.html">Managing Images in Scalr</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../best_practices/image_management.html#about-images-and-scopes">About Images and Scopes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../best_practices/image_management.html#image-lifecycle-best-practices">Image Lifecycle Best-Practices</a></li>
<li class="toctree-l3"><a class="reference internal" href="../best_practices/image_management.html#updating-a-widely-used-image">Updating a Widely Used Image</a></li>
<li class="toctree-l3"><a class="reference internal" href="../best_practices/image_management.html#approach-1-offering-a-new-version-of-an-image">Approach 1: Offering a new version of an image</a></li>
<li class="toctree-l3"><a class="reference internal" href="../best_practices/image_management.html#approach-2-replacing-an-existing-image-with-a-new-version">Approach 2: Replacing an existing image with a new version</a></li>
<li class="toctree-l3"><a class="reference internal" href="../best_practices/image_management.html#automating-image-management">Automating Image Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="../best_practices/image_management.html#example-image-publishing-pipeline">Example Image publishing pipeline</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Release Notes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../release_notes/index.html">Release Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../release_notes/scalr/scalr_server_index.html">Scalr Release Notes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../release_notes/scalr/7.9.5.html">7.9.5</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../release_notes/scalr/7.9.5.html#bug-fixes">Bug Fixes:</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../release_notes/scalr/7.10.0.html">7.10.0</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../release_notes/scalr/7.10.0.html#announcements">Announcements:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../release_notes/scalr/7.10.0.html#new-features">New Features:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../release_notes/scalr/7.10.0.html#improvements">Improvements:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../release_notes/scalr/7.10.0.html#bug-fixes">Bug Fixes:</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../release_notes/scalarizr/scalarizr_index.html">Scalarizr Release Notes</a><ul class="simple">
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Scalr</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Installation &amp; Upgrades</a> &raquo;</li>
        
      <li>Scalr Server Maintenance</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/install_guide/scalr_server_maintenance.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="scalr-server-maintenance">
<h1>Scalr Server Maintenance<a class="headerlink" href="#scalr-server-maintenance" title="Permalink to this headline">¶</a></h1>
<p>We recommend having two Scalr environments, one for development and production. It is not uncommon for the majority of our customers to upgrade development the day a new release comes out and to upgrade production a week or so after. All activities on this page should be executed on the development environment prior to production.</p>
<div class="section" id="upgrades">
<h2>Upgrades<a class="headerlink" href="#upgrades" title="Permalink to this headline">¶</a></h2>
<p>Backup your database (this is an example, choose any location for the backup):</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>/opt/scalr-server/embedded/bin/mysqldump --all-databases -u<span class="o">{</span>sql_username<span class="o">}</span> -p<span class="o">{</span>sql_password<span class="o">}</span> <span class="p">|</span> gzip &gt; /tmp/pre_upgrade_backup.gz
</pre></div>
</div>
<p>Stop all scalr hosts using:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>scalr-server-manage stop all
</pre></div>
</div>
<p>Upgrade scalr across all hosts:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1">##For RPM based installations##</span>
yum upgrade scalr-server

<span class="c1">##For DEB based installations##</span>
apt upgrade scalr-server
</pre></div>
</div>
<p>Once all hosts have finished running the yum upgrade, <strong>run a reconfigure on the main database first</strong>:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>scalr-server-ctl reconfigure
</pre></div>
</div>
<p>Once the main database is finished reconfiguring run the reconfigure across all other hosts:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>scalr-server-ctl reconfigure
</pre></div>
</div>
</div>
<div class="section" id="automated-upgrades">
<h2>Automated Upgrades<a class="headerlink" href="#automated-upgrades" title="Permalink to this headline">¶</a></h2>
<p>As you can see, the Scalr upgrade process is fairly simple, because of this we encourage customers to automate the process using their favorite configuration management method. We have put together an example using Ansible: <a class="reference external" href="https://github.com/scalr-tutorials/scalr-server-upgrade-ansible">https://github.com/scalr-tutorials/scalr-server-upgrade-ansible</a></p>
</div>
<div class="section" id="monitoring-best-practices">
<h2>Monitoring Best Practices<a class="headerlink" href="#monitoring-best-practices" title="Permalink to this headline">¶</a></h2>
<p><strong>Automated Testing</strong></p>
<p>While Scalr is a very reliable, it is a good idea to perform some automated testing on the basic functionality of Scalr, like launching Farms/Servers. This will not only test Scalr, but will make sure that the following is function correctly:</p>
<ul class="simple">
<li>Cloud provider functionality</li>
<li>Cloud credentials</li>
<li>Network connections to private and public clouds</li>
<li>Connections to any configuration management tools</li>
</ul>
<p>Here is an example that we created using Ansible: <a class="reference external" href="https://github.com/scalr-tutorials/scalr-automated-testing-via-ansible">https://github.com/scalr-tutorials/scalr-automated-testing-via-ansible</a></p>
<p><strong>Infrastructure</strong></p>
<p>Disk:</p>
<p>If you used the standard Scalr installation guide, you should have mounted the main disk that Scalr uses to /opt/scalr-server/ on all Scalr nodes. Reference <a class="reference external" href="https://scalr-labs.atlassian.net/wiki/spaces/DOCS/pages/301039670/Scalr+Server+Maintenance">this FAQ page</a> for installations in different directories.  The database node will grow faster than others, but none of the nodes should ever be over 80% in disk use.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@scalr:~# df -h /opt/scalr-server/
Filesystem      Size  Used Avail Use% Mounted on
/dev/sdb         50G  <span class="m">2</span>.1G   45G   <span class="m">5</span>% /opt/scalr-server
</pre></div>
</div>
<p><strong>Application</strong></p>
<p>When it comes to monitoring Scalr itself, it is fairly simple as there are only two components of note to monitor:</p>
<ul class="simple">
<li>Scalr Supervisor</li>
<li>Scalr Services - Scalr uses a command-line tool to manage the internal services, scalr-server-manage.</li>
</ul>
<p>Make sure the Scalr Supervisor is up:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@scalr:~# service scalr status
scalr is running
</pre></div>
</div>
<p>or</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@scalr:~# /etc/init.d/scalr status
scalr is running
</pre></div>
</div>
<p>Using the Scalr Server command-line management tool, make sure the individual service are up (they are likely spread across multiple nodes):</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>root@scalr:~# scalr-server-manage status
analytics_poller                 RUNNING   pid <span class="m">3031</span>, uptime <span class="m">2</span> days, <span class="m">4</span>:08:22
analytics_processor              RUNNING   pid <span class="m">3059</span>, uptime <span class="m">2</span> days, <span class="m">4</span>:08:22
beat                             RUNNING   pid <span class="m">3063</span>, uptime <span class="m">2</span> days, <span class="m">4</span>:08:22
dbqueue                          RUNNING   pid <span class="m">3035</span>, uptime <span class="m">2</span> days, <span class="m">4</span>:08:22
license-manager                  RUNNING   pid <span class="m">3049</span>, uptime <span class="m">2</span> days, <span class="m">4</span>:08:22
monitor                          RUNNING   pid <span class="m">3089</span>, uptime <span class="m">2</span> days, <span class="m">4</span>:08:22
msgsender                        RUNNING   pid <span class="m">3068</span>, uptime <span class="m">2</span> days, <span class="m">4</span>:08:22
plotter                          RUNNING   pid <span class="m">3062</span>, uptime <span class="m">2</span> days, <span class="m">4</span>:08:22
poller                           RUNNING   pid <span class="m">3075</span>, uptime <span class="m">2</span> days, <span class="m">4</span>:08:22
scalr-crond                      RUNNING   pid <span class="m">3036</span>, uptime <span class="m">2</span> days, <span class="m">4</span>:08:22
scalr-httpd                      RUNNING   pid <span class="m">3080</span>, uptime <span class="m">2</span> days, <span class="m">4</span>:08:22
scalr-influxdb                   RUNNING   pid <span class="m">3087</span>, uptime <span class="m">2</span> days, <span class="m">4</span>:08:22
scalr-memcached                  RUNNING   pid <span class="m">3039</span>, uptime <span class="m">2</span> days, <span class="m">4</span>:08:22
scalr-mysql                      RUNNING   pid <span class="m">2705</span>, uptime <span class="m">2</span> days, <span class="m">4</span>:10:10
scalr-nginx                      RUNNING   pid <span class="m">3030</span>, uptime <span class="m">2</span> days, <span class="m">4</span>:08:22
scalr-rabbitmq                   RUNNING   pid <span class="m">3037</span>, uptime <span class="m">2</span> days, <span class="m">4</span>:08:22
scalr-rrd                        RUNNING   pid <span class="m">3041</span>, uptime <span class="m">2</span> days, <span class="m">4</span>:08:22
szrupdater                       RUNNING   pid <span class="m">3040</span>, uptime <span class="m">2</span> days, <span class="m">4</span>:08:22
workflow-engine                  RUNNING   pid <span class="m">3072</span>, uptime <span class="m">2</span> days, <span class="m">4</span>:08:22
zmq_service                      RUNNING   pid <span class="m">3032</span>, uptime <span class="m">2</span> days, <span class="m">4</span>:08:22
</pre></div>
</div>
<p>These services should always be in a “RUNNING” state, if there is any other state returned then it should be flagged by your monitoring tool.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="scalarizr_installation.html" class="btn btn-neutral float-right" title="Scalarizr Installation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="scalr_server_ha_setup.html" class="btn btn-neutral" title="Scalr Server HA Replication" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, scalr_team.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.01',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>